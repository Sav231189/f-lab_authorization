{"version":3,"file":"index.modern.js","sources":["../src/Authorization.js"],"sourcesContent":["import React, {useState} from 'react';\nimport s from './Authorization.module.scss'\n\nexport const Authorization = ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = 'email',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstartWindow = 'login',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisRememberMe = true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLogin = true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisRegister = true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisResetPassword = true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisCloseWindowBtn = true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisGoogleLogin = false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcloseWindow = () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback = () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickGoogleBtn = () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}) => {\n\t// текст ошибок и успеха\n\tconst [messageType, setMessageType] = useState('error');\n\t// текст ошибок и успеха\n\tconst [messageText, setMessageText] = useState('');\n\t// активация/деактивация лоадера (анимация загрузки)\n\tconst [loading, setLoading] = useState(false);\n\t// мод содержимого окна (login / registration / resetPassword)\n\tconst [mode, setMode] = useState(startWindow);\n\n\t// значения полей инпут\n\tconst [login, setLogin] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [confirm, setConfirm] = useState('');\n\tconst [remember, setRemember] = useState(false);\n\n\t// указывает какие поля с ошибкой\n\tconst [errorLoginInput, setErrorLoginInput] = useState(false);\n\tconst [errorEmailInput, setErrorEmailInput] = useState(false);\n\tconst [errorPasswordInput, setErrorPasswordInput] = useState(false);\n\tconst [errorConfirmInput, setErrorConfirmInput] = useState(false);\n\n\t// функция передается в объекте в колбек функцию, для вызова после ответа сервера\n\tconst feedback = ({type, message}) => {\n\t\tsetLoading(false);\n\t\tsetMessageText(message);\n\t\tsetMessageType(type);\n\t};\n\n\t// функция вызывающая колбек при клике на сloseWindowBtn\n\tconst callBackCloseWindow = () => {\n      closeWindow();\n\n      setErrorLoginInput(false);\n      setErrorEmailInput(false);\n      setErrorPasswordInput(false);\n      setErrorConfirmInput(false);\n\n      setMessageText('');\n      setPassword('');\n\t};\n\n\t// изменяем мод (login / registration / resetPassword) и чистим errors на инпутах\n\tconst changeMode = (mode) => {\n\t\tsetMode(mode);\n\n\t\tsetErrorLoginInput(false);\n\t\tsetErrorEmailInput(false);\n\t\tsetErrorPasswordInput(false);\n\t\tsetErrorConfirmInput(false);\n\n\t\tsetMessageText('');\n\t\tsetPassword('');\n\t};\n\n\t// проверяем поля инпутов\n\tconst checkLogin = () => {\n\t\tif (login.length < 4 || login.length > 30) {\n\t\t\tsetErrorLoginInput(true);\n\t\t\tsetMessageText('Логин может быть от 4-х до 30 символов.');\n\t\t\treturn false;\n\t\t}\n\t\tsetErrorLoginInput(false);\n\t\treturn true\n\t};\n\tconst checkEmail = () => {\n\t\tfunction validateEmail(e) {\n\t\t\tconst re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\t\treturn re.test(e);\n\t\t}\n\n\t\tif (!validateEmail(email)) {\n\t\t\tsetMessageText('Не корректный e-mail.');\n\t\t\tsetErrorEmailInput(true);\n\t\t\tsetMessageType('error');\n\t\t\treturn false;\n\t\t} else {\n\t\t\tsetErrorEmailInput(false);\n\t\t\tsetMessageText('');\n\t\t\treturn true;\n\t\t}\n\t};\n\tconst checkPassword = () => {\n\t\tif (password.length < 4 || password.length > 30) {\n\t\t\tsetMessageText('Пароль должен сожержать от 4 до 30 символов.');\n\t\t\tsetErrorPasswordInput(true);\n\t\t\treturn false;\n\t\t}\n\t\tsetErrorPasswordInput(false);\n\t\treturn true\n\t};\n\tconst checkConfirm = () => {\n\t\tif (password.length !== confirm.length || !password.includes(confirm)) {\n\t\t\tsetMessageText('Пароли не совпадают.');\n\t\t\tsetErrorConfirmInput(true);\n\t\t\treturn false;\n\t\t}\n\t\tsetErrorConfirmInput(false);\n\t\treturn true;\n\t};\n\n\t// обработчики отправки колбека (вход / регистрация / востановить пароль)\n\tconst loginIn = () => {\n\t\tif (callback && checkPassword() && checkLogin() && (type === 'email' ? checkEmail() : true)) {\n\t\t\tcallback({\n\t\t\t\ttype: \"loginIn\",\n\t\t\t\tlogin: login,\n\t\t\t\tpassword: password,\n\t\t\t\tremember: remember,\n\t\t\t\tfeedback: feedback,\n\t\t\t});\n\t\t\tsetLoading(true);\n\t\t} else {\n\t\t\tcheckPassword();\n\t\t\tcheckLogin();\n\t\t\tif (type === 'email') checkEmail();\n\t\t}\n\t};\n\tconst regAccount = () => {\n\n\t\tif (callback && checkLogin() && checkPassword() && checkConfirm() && (type !== 'login' ? checkEmail() : true)) {\n\t\t\tcallback({\n\t\t\t\ttype: \"registration\",\n\t\t\t\tlogin: login,\n\t\t\t\temail: email,\n\t\t\t\tpassword: password,\n\t\t\t\tfeedback: feedback,\n\t\t\t});\n\t\t\tsetLoading(true);\n\t\t} else {\n\t\t\tcheckConfirm();\n\t\t\tcheckPassword();\n\t\t\tif (type !== 'login') checkEmail();\n\t\t\tcheckLogin();\n\t\t}\n\t};\n\tconst resetPassword = () => {\n\n\t\tif (callback && checkEmail()) {\n\t\t\tcallback({\n\t\t\t\ttype: \"resetPassword\",\n\t\t\t\temail: email,\n\t\t\t\tfeedback: feedback,\n\t\t\t});\n\t\t\tsetLoading(true);\n\t\t} else {\n\t\t\tcheckEmail();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={s.Authorization}>\n\t\t\t{/* ===== LOADING ====== */}\n\t\t\t{loading &&\n\t\t\t<div className={s.loading}>\n\t\t\t\t<div className={s.ldsRing}>\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t</div>}\n\n\t\t\t{/* ====== CLOSE-WINDOW-BTN ======*/}\n\t\t\t{isCloseWindowBtn &&\n\t\t\t<div className={s.closeWindow} onClick={callBackCloseWindow}>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t</div>\n\t\t\t}\n\n\t\t\t{/* ====== LOGIN ======*/}\n\t\t\t{mode === 'login' &&\n\t\t\t<div className={s.mode__login}>\n\t\t\t\t<div className={s.header}>\n\t\t\t\t\t<span className={s.header__login}>Войти</span>\n\t\t\t\t\t{isRegister && <span className={s.header__link} onClick={() => changeMode('registration')}>\n              Регистрация</span>}\n\t\t\t\t</div>\n\t\t\t\t<div className={s.main}>\n\t\t\t\t\t<div className={s.main__error}> {messageText} </div>\n\t\t\t\t\t<div className={s.main__login}>\n\t\t\t\t\t\t{type === 'email-login' &&\n\t\t\t\t\t\t<input type=\"text\" placeholder='введите логин или e-mail' value={login} onBlur={checkLogin}\n\t\t\t\t\t\t\t\t\t style={{border: `${errorLoginInput ? 'red' : 'gray'} solid 1px`}}\n\t\t\t\t\t\t\t\t\t onChange={e => {\n\t\t\t\t\t\t\t\t\t\t setLogin(e.target.value);\n\t\t\t\t\t\t\t\t\t\t setMessageText('')\n\t\t\t\t\t\t\t\t\t }}/>}\n\t\t\t\t\t\t{type === 'email' &&\n\t\t\t\t\t\t<input type=\"text\" placeholder='введите e-mail' value={login} onBlur={checkEmail}\n\t\t\t\t\t\t\t\t\t style={{border: `${errorLoginInput ? 'red' : 'gray'} solid 1px`}}\n\t\t\t\t\t\t\t\t\t onChange={e => {\n\t\t\t\t\t\t\t\t\t\t setLogin(e.target.value);\n\t\t\t\t\t\t\t\t\t\t setEmail(e.target.value);\n\t\t\t\t\t\t\t\t\t\t setMessageText('')\n\t\t\t\t\t\t\t\t\t }}/>}\n\t\t\t\t\t\t{type === 'login' &&\n\t\t\t\t\t\t<input type=\"text\" placeholder='введите логин' value={login} onBlur={checkLogin}\n\t\t\t\t\t\t\t\t\t style={{border: `${errorLoginInput ? 'red' : 'gray'} solid 1px`}}\n\t\t\t\t\t\t\t\t\t onChange={e => {\n\t\t\t\t\t\t\t\t\t\t setLogin(e.target.value);\n\t\t\t\t\t\t\t\t\t\t setMessageText('')\n\t\t\t\t\t\t\t\t\t }}/>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={s.main__password}>\n\t\t\t\t\t\t<input type=\"password\" placeholder='введите пароль' value={password} onBlur={checkPassword}\n\t\t\t\t\t\t\t\t\t style={{border: `${errorPasswordInput ? 'red' : 'gray'} solid 1px`}}\n\t\t\t\t\t\t\t\t\t onChange={e => {\n\t\t\t\t\t\t\t\t\t\t setPassword(e.target.value);\n\t\t\t\t\t\t\t\t\t\t setMessageText('');\n\t\t\t\t\t\t\t\t\t }}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={s.main__btn} onClick={loginIn}> Войти</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={s.bottom} style={{gridTemplateColumns: `${!isRememberMe ? \"1fr\" : \"1fr 1fr\"}`}}>\n\t\t\t\t\t{isRememberMe &&\n\t\t\t\t\t<div className={s.bottom_remember}>\n\t\t\t\t\t\t<input type=\"checkbox\" value={remember} onChange={() => {\n\t\t\t\t\t\t\tsetRemember(!remember)\n\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t<span>Запомнить</span>\n\t\t\t\t\t</div>}\n\t\t\t\t\t{isResetPassword && type !== 'login' &&\n\t\t\t\t\t<div className={s.bottom_resetPassword}>\n\t\t\t\t\t\t<span onClick={() => changeMode('reset')}> Забыли пароль? </span>\n\t\t\t\t\t</div>}\n\t\t\t\t</div>\n\t\t\t\t{isGoogleLogin &&\n\t\t\t\t<div className={s.googleLogin}>\n\t\t\t\t\t<div className={s.or}><span> or </span></div>\n\t\t\t\t\t<span id='googleBtn' className={s.googleLoginBtn} onClick={clickGoogleBtn}> войти через Google </span>\n\t\t\t\t</div>}\n\t\t\t</div>}\n\n\t\t\t{/* ===== REGISTRATION =====*/}\n\t\t\t{mode === 'registration' &&\n\t\t\t<div className={s.mode__registration}>\n\t\t\t\t<div className={s.header}>\n\t\t\t\t\t<span className={s.header__login}>Регистрация</span>\n\t\t\t\t\t{isLogin && <span className={s.header__link} onClick={() => changeMode('login')}> Вход </span>}\n\t\t\t\t</div>\n\t\t\t\t<div className={s.main}>\n\t\t\t\t\t<div className={s.main__error}>{messageText}</div>\n\t\t\t\t\t{(type === 'login' || type === 'email-login') &&\n\t\t\t\t\t<div className={s.main__login}>\n\t\t\t\t\t\t<input type=\"text\" placeholder='login' value={login} onBlur={checkLogin}\n\t\t\t\t\t\t\t\t\t style={{border: `${errorLoginInput ? 'red' : 'gray'} solid 1px`}}\n\t\t\t\t\t\t\t\t\t onChange={e => {\n\t\t\t\t\t\t\t\t\t\t setLogin(e.target.value);\n\t\t\t\t\t\t\t\t\t\t setMessageText('')\n\t\t\t\t\t\t\t\t\t }}/>\n\t\t\t\t\t</div>}\n\t\t\t\t\t{(type === 'email' || type === 'email-login') &&\n\t\t\t\t\t<div className={s.main__email}>\n\t\t\t\t\t\t<input type=\"email\" placeholder='e-mail' value={email} onBlur={checkEmail}\n\t\t\t\t\t\t\t\t\t style={{border: `${errorEmailInput ? 'red' : 'gray'} solid 1px`}}\n\t\t\t\t\t\t\t\t\t onChange={e => {\n\t\t\t\t\t\t\t\t\t\t setEmail(e.target.value);\n\t\t\t\t\t\t\t\t\t\t setMessageText('')\n\t\t\t\t\t\t\t\t\t }}/>\n\t\t\t\t\t</div>}\n\t\t\t\t\t<div className={s.main__password}>\n\t\t\t\t\t\t<input type=\"password\" placeholder='password' value={password} onBlur={checkPassword}\n\t\t\t\t\t\t\t\t\t style={{border: `${errorPasswordInput ? 'red' : 'gray'} solid 1px`}}\n\t\t\t\t\t\t\t\t\t onChange={e => {\n\t\t\t\t\t\t\t\t\t\t setPassword(e.target.value);\n\t\t\t\t\t\t\t\t\t\t setMessageText('')\n\t\t\t\t\t\t\t\t\t }}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={s.main__confirm}>\n\t\t\t\t\t\t<input type=\"password\" placeholder='confirm password' value={confirm} onBlur={checkConfirm}\n\t\t\t\t\t\t\t\t\t style={{border: `${errorConfirmInput ? 'red' : 'gray'} solid 1px`}}\n\t\t\t\t\t\t\t\t\t onChange={e => {\n\t\t\t\t\t\t\t\t\t\t setConfirm(e.target.value);\n\t\t\t\t\t\t\t\t\t\t setMessageText('')\n\t\t\t\t\t\t\t\t\t }}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={s.main__btn + ' ' + s.regBtn} onClick={regAccount}> Регистрация</div>\n\t\t\t\t</div>\n\t\t\t</div>}\n\n\t\t\t{/* ===== RESET PASSWORD =====*/}\n\t\t\t{mode === 'reset' &&\n\t\t\t<div className={s.mode__reset}>\n\t\t\t\t<div className={s.header}>\n\t\t\t\t\t<span className={s.header__login}>Востановление</span>\n\t\t\t\t\t{isLogin && <span className={s.header__link} onClick={() => changeMode('login')}>Вход</span>}\n\t\t\t\t</div>\n\t\t\t\t<div className={s.main}>\n\t\t\t\t\t<div className={s.main__error}\n\t\t\t\t\t\t\t style={{color: `${messageType === 'error' ? 'red' : 'green'}`}}> {messageText} </div>\n\t\t\t\t\t<div className={s.main__email}>\n\t\t\t\t\t\t<input type=\"email\" placeholder='e-mail' value={email}\n\t\t\t\t\t\t\t\t\t style={{border: `${errorEmailInput ? 'red' : 'gray'} solid 1px`}}\n\t\t\t\t\t\t\t\t\t onChange={e => setEmail(e.target.value)} onBlur={checkEmail}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={s.main__btn + ' ' + s.regBtn} onClick={resetPassword}> Отправить</div>\n\t\t\t\t</div>\n\t\t\t</div>}\n\t\t</div>\n\t)\n};\n\nexport default Authorization;\n"],"names":["Authorization","type","startWindow","isRememberMe","isLogin","isRegister","isResetPassword","isCloseWindowBtn","isGoogleLogin","closeWindow","callback","clickGoogleBtn","useState","messageType","setMessageType","messageText","setMessageText","loading","setLoading","mode","setMode","login","setLogin","email","setEmail","password","setPassword","confirm","setConfirm","remember","setRemember","errorLoginInput","setErrorLoginInput","errorEmailInput","setErrorEmailInput","errorPasswordInput","setErrorPasswordInput","errorConfirmInput","setErrorConfirmInput","feedback","message","callBackCloseWindow","changeMode","checkLogin","length","checkEmail","validateEmail","e","re","test","checkPassword","checkConfirm","includes","loginIn","regAccount","resetPassword","s","ldsRing","mode__login","header","header__login","header__link","main","main__error","main__login","border","target","value","main__password","main__btn","bottom","gridTemplateColumns","bottom_remember","bottom_resetPassword","googleLogin","or","googleLoginBtn","mode__registration","main__email","main__confirm","regBtn","mode__reset","color"],"mappings":"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"}